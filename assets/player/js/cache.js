(function(f,h){f.MVPCacheManager=function(k){var g=this,e;if("indexedDB"in f){var d=indexedDB.open(k,1);d.onupgradeneeded=function(b){d.result.objectStoreNames.contains("playlistData")||d.result.createObjectStore("playlistData",{keyPath:"id"})};d.onsuccess=function(b){e=d.result;g.getData()};d.onerror=function(b){console.log(d.errorCode)}}this.saveData=function(b){var c=e.transaction("playlistData","readwrite");b=c.objectStore("playlistData").put({id:0,value:b});b.onerror=function(a){console.log("Error",
a.target.error.name)};b.onsuccess=function(a){};c.oncomplete=function(a){}};this.getData=function(){var b=e.transaction("playlistData","readonly"),c=b.objectStore("playlistData").get(0);c.onsuccess=function(a){a=a.target.result;h(g).trigger("MVPCacheManager.GET_DATA",a)};c.onerror=function(a){console.log("Error",a.target.error.name)};b.oncomplete=function(a){}};this.deleteData=function(){var b=e.transaction("playlistData","readwrite"),c=b.objectStore("playlistData")["delete"](0);c.onsuccess=function(a){};
c.onerror=function(a){console.log("Error",a.target.error.name)};b.oncomplete=function(a){}}}})(window,jQuery);